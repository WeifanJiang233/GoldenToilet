<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Skyscraper Toilet — Finance & Auction</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b1018; --panel:#0f1623; --ink:#e8edf6; --muted:#93a1b8; --line:#1f2a3a;
    --accent:#3ee682; --accent-2:#2aa5ff; --warn:#ffcd3c; --loss:#ff4d4f; --radius:16px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  a{color:inherit}
  .page{max-width:1200px;margin:0 auto;padding:24px}
  .nav{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:14px}
  .brand{font-family:"Playfair Display",serif;font-weight:700;letter-spacing:.02em}
  .ticker{flex:1;overflow:hidden;border:1px solid var(--line);border-radius:999px;background:#0d1522}
  .marquee{white-space:nowrap;display:inline-block;padding:8px 12px;animation:scroll 26s linear infinite}
  @keyframes scroll{from{transform:translateX(0)} to{transform:translateX(-50%)} }
  .grid{display:grid;grid-template-columns:1.4fr .9fr;gap:16px}
  @media (max-width:980px){.grid{grid-template-columns:1fr}}
  .card{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);padding:16px}
  .card h2{margin:0 0 10px;font-family:"Playfair Display",serif}
  .hero {
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  height: 420px; /* 原 360 -> 420 增加总高度 */
  background: #09101b;
  display: grid;
  grid-template-columns: 1.1fr 1fr;
}
  @media (max-width:900px){.hero{grid-template-columns:1fr;height:auto}}
  .hero img{width:100%;height:100%;object-fit:cover}
  .hero-right {
  padding: 22px 18px; /* 增加内边距 */
  border-left: 1px solid var(--line);
  display: flex;
  flex-direction: column;
  gap: 14px;
  justify-content: space-between;
  background: var(--panel);
  overflow: auto;
  min-height: 400px; /* 增加右侧可视高度 */
}
  .badge{display:inline-flex;align-items:center;gap:6px;background:#0b1b2b;border:1px solid var(--line);padding:6px 10px;border-radius:999px;font-size:.85rem;color:var(--muted)}
  .price{font-size:34px;font-weight:800;letter-spacing:.5px}
  .price.up{color:var(--accent)}
  .price.down{color:var(--loss)}
  .meta{display:flex;gap:10px;flex-wrap:wrap}
  .meta .pill{background:#0e1f31;border:1px solid var(--line);border-radius:999px;padding:6px 10px}
  .chart-wrap{position:relative;height:320px}
  .chart{width:100%;height:100%;display:block;background:linear-gradient(180deg,#0f1828 0%,#0b121f 100%);border:1px solid var(--line);border-radius:12px}
  .legend{display:flex;gap:12px;margin-top:8px;font-size:.9rem;color:var(--muted)}
  .auction-row{display:flex;gap:10px;flex-wrap:wrap}
  .input{flex:1;min-width:160px;background:#0a1422;border:1px solid var(--line);border-radius:12px;color:var(--ink);padding:12px 14px;font-size:16px}
  .btn{background:var(--accent-2);color:#fff;border:0;border-radius:12px;padding:12px 16px;cursor:pointer;font-weight:700}
  .btn.secondary{background:#0a1a2a;color:var(--ink);border:1px solid var(--line)}
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .stat{display:flex;gap:6px;background:#0d1726;border:1px solid var(--line);border-radius:10px;padding:8px 10px;font-weight:600}
  .book{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .book .col{background:#0c1726;border:1px solid var(--line);border-radius:12px;overflow:hidden}
  .book h4{margin:0;padding:10px 12px;background:#0a1522;border-bottom:1px solid var(--line)}
  .lvl{display:flex;justify-content:space-between;padding:8px 12px;border-top:1px dashed #142137}
  .lvl .price{font-size:16px}
  .lvl .qty{color:var(--muted)}
  .sfx {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid var(--line);
}
  .sfx .btn {
  background: #15253a;
  flex: 1;
  min-width: 100px; /* 每个按钮更宽 */
  padding: 14px 18px; /* 更高更宽 */
  text-align: center;
  font-size: 15px;
}
.hero-right{overflow:auto;z-index:1;background:var(--panel)} .hero img{z-index:0}
</style>
</head>
<body>
<div class="page">
  <header class="nav">
    <div class="brand">TOILET CITY EXCHANGE</div>
    <div class="ticker"><div class="marquee" id="tape">TLET (Golden Toilet) · — · Loading…</div></div>
  </header>
  <section class="card hero">
    <img src="https://raw.githubusercontent.com/WeifanJiang233/GoldenToilet/main/GoldToilet.png" alt="Skyscraper toilet visual" />
    <div class="hero-right">
      <span class="badge">Symbol: <strong>TLET</strong> · Spot</span>
      <div id="spot" class="price">$—</div>
      <div class="meta">
        <div class="pill" id="chg">24h: —</div>
        <div class="pill" id="high">High: —</div>
        <div class="pill" id="low">Low: —</div>
      </div>
      <div class="row" style="margin-top:auto">
        <div class="stat">Bidders: <span id="bidders">0</span></div>
        <div class="stat">Highest Bid: <span id="highest">—</span></div>
      </div>
      <div class="sfx">
        <button class="btn secondary" id="ambientBtn">Play/Pause Ambient</button>
        <button class="btn secondary" id="btnPoo">Poo</button>
        <button class="btn secondary" id="btnPee">Pee</button>
        <button class="btn secondary" id="btnFart">Fart</button>

      </div>
    </div>
  </section>

  <div class="grid" style="margin-top:16px">
    <section class="card">
      <h2>TLET Price (Simulated)</h2>
      <div class="chart-wrap">
        <canvas id="chart" class="chart" width="800" height="320"></canvas>
      </div>
      <div class="legend">Randomly generated for exhibition demo · Not financial advice</div>
    </section>

    <section class="card">
      <h2>Live Auction — Golden Toilet</h2>
      <div class="auction-row">
        <input id="bidInput" type="number" class="input" placeholder="Enter your bid (USD)" min="1" step="1" />
        <button class="btn" id="placeBid">Place Bid</button>
        <button class="btn secondary" id="autoBidders">Summon More Bidders</button>
      </div>
      <div class="row" style="margin-top:8px">
        <div class="stat">Your Last Bid: <span id="yourBid">—</span></div>
        <div class="stat">Current Price: <span id="current">—</span></div>
      </div>
      <div class="book" style="margin-top:12px">
        <div class="col">
          <h4>Asks (Sellers)</h4>
          <div id="asks"></div>
        </div>
        <div class="col">
          <h4>Bids (Buyers)</h4>
          <div id="bids"></div>
        </div>
      </div>
    </section>
  </div>
</div>

<audio id="bgAudio" src="https://raw.githubusercontent.com/WeifanJiang233/GoldenToilet/main/money.wav" preload="auto"></audio>
<audio id="sfxPoo" src="https://raw.githubusercontent.com/WeifanJiang233/ToiletPublic/main/poo.mp3" preload="auto"></audio>
<audio id="sfxPee" src="https://raw.githubusercontent.com/WeifanJiang233/ToiletPublic/main/pee.wav" preload="auto"></audio>
<audio id="sfxFart" src="https://raw.githubusercontent.com/WeifanJiang233/ToiletPublic/main/fart.wav" preload="auto"></audio>
<script>
// ===== Utilities =====
const rnd = (a,b)=> a+Math.random()*(b-a);
const fmt = n=> n===null||n===undefined? '—' : '$'+Number(n).toLocaleString();

// ===== Marquee tape =====
const tape = document.getElementById('tape');
function updateTape(price, chg){
  const dir = chg>=0 ? '▲' : '▼';
  const color = chg>=0 ? '#3ee682' : '#ff4d4f';
  const msg = `TLET · ${dir} ${chg.toFixed(2)}% · Spot ${fmt(price)} · GOLD BAR BIN · DIAMOND WALL · BRUSH: PREMIUM`;
  tape.innerHTML = `<span style="color:${color}">${msg}</span> — `.repeat(10);
}

// ===== Chart (random walk) =====
const canvas = document.getElementById('chart');
const ctx = canvas.getContext('2d');
let series = []; let minP = Infinity, maxP = -Infinity;
function seedSeries(){
  series = []; let p = rnd(10000, 20000);
  for(let i=0;i<120;i++){ p += rnd(-220, 240); p = Math.max(1000, p); series.push(p); }
  minP = Math.min(...series); maxP = Math.max(...series);
}
function drawChart(){
  const w = canvas.width = canvas.offsetWidth;
  const h = canvas.height = canvas.offsetHeight;
  const pad=8; const xstep = (w-pad*2)/(series.length-1);
  const y = v => pad + (h-pad*2) * (1 - (v-minP)/(maxP-minP));
  ctx.clearRect(0,0,w,h);
  ctx.globalAlpha = 0.4; ctx.strokeStyle = '#17243a';
  for(let i=0;i<8;i++){ let gy = (i/7)*h; ctx.beginPath(); ctx.moveTo(0,gy); ctx.lineTo(w,gy); ctx.stroke(); }
  ctx.globalAlpha = 1;
  ctx.beginPath(); ctx.moveTo(pad, y(series[0]));
  for(let i=1;i<series.length;i++) ctx.lineTo(pad+i*xstep, y(series[i]));
  ctx.lineTo(pad+(series.length-1)*xstep, h-pad); ctx.lineTo(pad, h-pad); ctx.closePath();
  ctx.fillStyle = 'rgba(46, 203, 112, .12)'; ctx.fill();
  ctx.beginPath(); ctx.moveTo(pad, y(series[0]));
  for(let i=1;i<series.length;i++) ctx.lineTo(pad+i*xstep, y(series[i]));
  ctx.strokeStyle = '#3ee682'; ctx.lineWidth = 2; ctx.stroke();
}
function tick(){
  let last = series[series.length-1];
  let step = rnd(-160, 180) + (Math.random()<0.05? rnd(-450,450):0);
  let next = Math.max(800, last + step);
  series.push(next); series.shift();
  minP = Math.min(...series); maxP = Math.max(...series);
  drawChart();
  updateMarket(next);
}

// ===== Market HUD =====
const spotEl = document.getElementById('spot');
const chgEl = document.getElementById('chg');
const hiEl = document.getElementById('high');
const loEl = document.getElementById('low');
const curEl = document.getElementById('current');
let dayHigh = 0, dayLow = Infinity;
function updateMarket(price){
  dayHigh = Math.max(dayHigh, price); dayLow = Math.min(dayLow, price);
  const change = ((price - series[0]) / series[0]) * 100;
  spotEl.textContent = fmt(price); spotEl.className = 'price ' + (change>=0?'up':'down');
  chgEl.textContent = `24h: ${change.toFixed(2)}%`;
  hiEl.textContent = `High: ${fmt(dayHigh)}`; loEl.textContent = `Low: ${fmt(dayLow)}`;
  curEl.textContent = fmt(price);
  updateTape(price, change);
}

// ===== Order Book =====
const asksEl = document.getElementById('asks');
const bidsEl = document.getElementById('bids');
function renderBook(mid){
  const mk = (p,q)=>`<div class=\"lvl\"><span class=\"price\">${fmt(p)}</span><span class=\"qty\">${q} lots</span></div>`;
  asksEl.innerHTML = ''; bidsEl.innerHTML = '';
  for(let i=5;i>0;i--) asksEl.innerHTML += mk(Math.round(mid + i*200 + rnd(0,50)), Math.round(rnd(1,8)));
  for(let i=5;i>0;i--) bidsEl.innerHTML += mk(Math.round(mid - i*200 - rnd(0,50)), Math.round(rnd(1,8)));
}

// ===== Auction Logic =====
const biddersEl = document.getElementById('bidders');
const highestEl = document.getElementById('highest');
const yourBidEl = document.getElementById('yourBid');
const bidInput = document.getElementById('bidInput');
const placeBid = document.getElementById('placeBid');
const summonBtn = document.getElementById('autoBidders');
let bidders = Math.floor(rnd(12, 48));
let highest = null; let yourLastBid = null;
function updateBidders(delta=0){ bidders = Math.max(1, bidders + delta); biddersEl.textContent = bidders; }
function setHighest(v){ highest = v; highestEl.textContent = fmt(v); renderBook(v); }
function echoOtherBids(from){
  const n = Math.floor(rnd(1,3));
  for(let i=0;i<n;i++){
    setTimeout(()=>{
      const step = Math.round(rnd(50, 300));
      const out = from + step + Math.round(rnd(-20,20));
      setHighest(Math.max(highest||0, out));
      updateBidders(1);
    }, 600 + i*900 + Math.round(rnd(0,500)));
  }
}
placeBid.addEventListener('click', ()=>{
  const v = Number(bidInput.value);
  if(!v || v<=0) return;
  yourLastBid = v; yourBidEl.textContent = fmt(v); updateBidders(1);
  if(!highest || v>highest) setHighest(v);
  echoOtherBids(v);
});
summonBtn.addEventListener('click', ()=>{ for(let i=0;i<5;i++) echoOtherBids(highest||series[series.length-1]); });
setInterval(()=>{ if(Math.random()<0.5){ echoOtherBids(highest||series[series.length-1]); } }, 4500);

// ===== Audio =====
const ambientBtn = document.getElementById('ambientBtn');
const bgAudio = document.getElementById('bgAudio');
ambientBtn.addEventListener('click', async ()=>{
  try{ if (bgAudio.paused) { await bgAudio.play(); ambientBtn.textContent = 'Pause Ambient'; } else { bgAudio.pause(); ambientBtn.textContent = 'Play Ambient'; } }
  catch(e){ /* autoplay restrictions */ }
});
const playOnce = el=>{ el.currentTime = 0; el.play().catch(()=>{}); };
['Poo','Pee','Fart'].forEach(k=>{ document.getElementById('btn'+k).addEventListener('click',()=> playOnce(document.getElementById('sfx'+k))); });

// ===== Boot =====
function boot(){
  seedSeries(); drawChart(); updateMarket(series[series.length-1]); updateBidders(0); setHighest(Math.round(series[series.length-1]));
  renderBook(series[series.length-1]);
  setInterval(tick, 1200);
}
window.addEventListener('load', boot);
window.addEventListener('resize', drawChart);
</script>
<!-- ===== FIXED DISCLAIMER BAR ===== -->
<div class="disclaimer-bar">
  ⚠️ All market data, prices, and bids are 
  <strong>randomly generated</strong> for artistic & entertainment purposes only.
</div>
<style>
.disclaimer-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: rgba(15,22,35,0.9);
  border-top: 1px solid var(--line);
  color: var(--muted);
  text-align: center;
  padding: 14px 20px;           /* 内边距稍微加大 */
  font-size: 17px;              /* 原 14px -> 17px */
  font-weight: 500;             /* 字体更厚一点 */
  letter-spacing: 0.3px;        /* 更易读 */
  backdrop-filter: blur(6px);
  z-index: 9999;
}
.disclaimer-bar strong {
  color: var(--accent);
  font-weight: 700;
}
</style>
</body>
</html>


